#!/bin/bash
if [ ! -n $1 ];
then 
    echo "No parameter passed."
else
    if [ $1 == "-d" ];then PIPE=dmenu;else PIPE=fzf;fi
    if [ $1 == "-h" ];then
        echo -e "bash termtube [options] [search_query]\n\t-h : Help\n\t-d for pipe result into dmenu\n\t(by default the sript will pipe results to fzf)"
    else
        script_path=$(dirname $(readlink -f $0))
        id=$( python $script_path/main.py $@ | $PIPE |awk '{print $1}')
        video="https://youtube.com/watch?v=$id"
        echo "Playing video ..."
        echo $video
    fi
fi
